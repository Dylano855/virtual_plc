@startuml
title Function Call Sequence — Breakfast Task calls IsReady()

!theme plain
skinparam sequenceArrowFontColor black
skinparam noteFontColor black
skinparam participantFontColor black
skinparam sequenceArrowFontSize 12

participant "Breakfast Task" as Task
participant "GVL" as GVL
participant "IsReady()" as IsReady

autonumber

== Task: wait & read ==
Task -> GVL : Read ReadyForBreakfast
note right of Task
  Purpose: verify WakeUp completed
  (uses value from GVL)
end note

== Task: call function ==
Task -> IsReady : IsReady(ReadyForBreakfast)
activate IsReady
note right of IsReady
  Input: ReadyForBreakfast (BOOL)
  Purpose: validate synchronization flag
end note

IsReady -> IsReady : Evaluate (ReadyForBreakfast == TRUE)
IsReady --> Task : Return TRUE
deactivate IsReady

note right of Task
  Result: TRUE → condition passed
  Action: transition to State 20
end note

== Task: write result ==
Task -> GVL : Write MakingBreakfast = TRUE
note right of GVL
  New flag stored in shared memory
end note

note over Task, IsReady
  Summary:
  1) Task reads flag from GVL
  2) Task calls IsReady() with that value
  3) Function evaluates and returns TRUE
  4) Task proceeds and writes new flag to GVL
end note

@enduml
